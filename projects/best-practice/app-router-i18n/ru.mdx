---
title: 'i18n: Интернациолизация'
description: 'Меняем языки интерфейса без сторонних библиотек. Лучшее решение для SEO'
tags: ['TypeScript', 'SSR']
---

---

## Markdown и многомерные выражения

[Markdown](https://daringfireball.net/projects/markdown/syntax) - это упрощенный язык разметки, используемый для форматирования текста. Он позволяет вам писать, используя синтаксис обычного текста, и преобразовывать его в структурно корректный HTML. Он обычно используется для создания контента на веб-сайтах и в блогах.

Вы пишете...

```md hideHeader
Я **люблю** использовать [Next.js](https://extjs.org/)
```

Вывод:

```html hideHeader
<p>
	Я <strong>люблю</strong> использовать <a href="https://extjs.org/">Next.js</a>
</p>
```

[MDX](https://mdxjs.com/) - это надмножество markdown, которое позволяет вам записывать [JSX](https://react.dev/learn/writing-markup-with-jsx) непосредственно в ваши файлы markdown. Это мощный способ добавить динамическую интерактивность и встроить компоненты React в ваш контент.

---

## Файлы:

- [middleware.ts](/middleware.ts) - основной функционал работы i18n
- [getLang()](src/shared/config/i18n/get-lang.ts) - возвращает выбранный язык `en | ru`
- [useLang()](src/shared/config/i18n/use-lang.ts) - как `getLang()`, только для клиентского компонента
- [getDictionary()](src/shared/config/i18n/dictionaries.ts) - возвращает объект с переводами `ключ-значение`
- [useDictionary()](src/shared/config/i18n/use-dictionary.ts) - как `getDictionary()`, только для клиентского компонента
- [type Dictionary](src/shared/config/i18n/dictionaries.ts)
- [/dictionary](src/shared/config/i18n/dictionaries/) - директория с json файлами переводов
- [Link](src/shared/config/i18n/link.tsx) - компонент Link для i18n

## Особенности:

Все компоненты `Link` экспортируем из `@/shared/config/i18n` !

Не нужно прокидывать props в каждый компонент, где используется перевод:

```diff hideHeader
-	export const Navbar = ({ dict }: { dict: Dictionary['ui'] }) => {...}

+	export const Navbar = async () => {
+		const dictionary = await getDictionary();
```

Не нужно передавать язык в `getDictionary(lang)`, как это реализовано в [документации Next.js](https://nextjs.org/docs/app/building-your-application/routing/internationalization#localization):

```diff hideHeader
- getDictionary(lang)
+ getDictionary()
```

Просто используем в любом серверном компоненте `const dict = await getDictionary();`, прокидываем в клиентский компонент как props `{ dict }: { dict: Dictionary['ui'] }` или используем `useDictionary()`
